{
  "dataset_name": "BBBC036",
  "workflow_phases": [
    "task_analysis"
  ],
  "phases": {
    "task_analysis": {
      "enabled": true,
      "llm_notebook": {
        "paths": {
          "data": "../data/${dataset_name}/CP_data.csv",
          "paper": "../data/${dataset_name}/BBBC036.pdf",
          "preprocess": "../data/${dataset_name}/BBBC036_data_process.ipynb"
        },
        "prompt": "You are now acting as a researcher working at the intersection of computational biology and artificial intelligence. I will provide you with a paper abstract/body text and my curated experimental dataset. Based on these materials, please complete the following tasks in Jupyter Notebook format: ...",
        "exec": {
          "timeout_seconds": 3600,
          "max_preview_rows": 8,
          "max_preview_cols": 20,
          "pdf_max_pages": 3,
          "force_json_mode": true,
          "save_intermediate": true,
          "allow_errors": false,
          "max_fix_rounds": 3
        },
        "llm": {
          "provider": "yizhan",
          "model": "gpt-5",
          "temperature": 0.5,
          "max_tokens": 8192,
          "top_p": 1,
          "frequency_penalty": 0,
          "presence_penalty": 0
        },
        "multi": {
          "enabled": true,
          "num_runs": 4,
          "name_template": "NB{idx:02d}-seed{seed}",
          "seeds": [
            11,
            22,
            33,
            44
          ],
          "prompt_variants": [
            "focus=robust-scaling; note: emphasize dose effects",
            "focus=pca/clustering; note: plate-holdout discussion",
            "focus=feature-network; note: correlation modules",
            "focus=enrichment; note: volcano + markers"
          ],
          "out_dir": "../results/${dataset_name}/design_analysis",
          "hypergraph_name": "CellScientist-HyperGraph",
          "node_names": [
            "Data Loading & Initial Exploration",
            "Data Patterns",
            "Hidden Information",
            "Innovation Motivation",
            "Experiment & Validation Suggestions"
          ],
          "review": {
            "enabled": true,
            "threshold": 0.72,
            "per_cycle_runs": 1,
            "closed_loop": true,
            "max_cycles": 1,
            "llm": {
              "provider": "yizhan",
              "model": "gpt-5",
              "temperature": 0.2,
              "max_tokens": 16000,
              "system_prompt": "You are acting as an expert PI in computational biology and AI. Your task is to review Jupyter notebooks generated by junior researchers. Evaluate them with rigor, considering correctness, scientific validity, novelty, reproducibility, and interpretability. Provide structured, constructive feedback with scores and actionable suggestions. Use concise academic language suitable for lab notes.",
              "critique_prompt_template": "Review the following notebook content:\n\n{{CONTENT}}\n\nPerform the following:\n\n1. **Correctness**: Does the notebook run without critical errors? Are the methods implemented correctly?\n2. **Scientific Validity**: Are the statistical tests appropriate and results significant?\n3. **Novelty**: Does the analysis show innovation beyond standard baselines?\n4. **Reproducibility**: Are steps clear and data/code paths reproducible?\n5. **Interpretability**: Are plots labeled, results interpretable, and narrative coherent?\n\nThen:\n- Assign a **0–1 score** for each category.\n- Provide a weighted overall score (use reference.weights if given).\n- Summarize key strengths and weaknesses in 3–5 bullet points.\n- If overall score < threshold, propose concrete revisions (list exact steps).\n- If overall score ≥ threshold, mark as candidate for reference notebook.\n\nOutput must be valid JSON with fields: `scores`, `overall`, `strengths`, `weaknesses`, `decision`, `suggestions`."
            },
            "reference": {
              "enabled": true,
              "export_dir": "../results/${dataset_name}/design_analysis/reference",
              "min_overall": 0.72,
              "export_mode": "best_only",
              "stop_after_export": true,
              "keep_history": true,
              "weights": {
                "scientific": 1.0,
                "novelty": 0.8,
                "reproducibility": 1.2,
                "interpretability": 1.0
              }
            },
            "meta": {
              "enabled": true
            },
            "trace": {
              "enabled": true
            },
            "semantic": {
              "enabled": true,
              "export_dot": true
            },
            "llm_ensemble": []
          }
        }
      }
    }
  }
}